(function (a) {
    a.fn.Swipe = function (b) {
        var c = {
            fcount: 0,
            startX: 0,
            startY: 0,
            currentX: 0,
            currentY: 0,
            minimum: 80,
            direction: null,
            angle: null,
            swipeLeft: function () {},
            swipeRight: function () {}
        };
        var b = a.extend(c, b);
        if (!this) {
            return false
        }
        return this.each(function () {
            var d = function (j) {
                    c.startX = j.targetTouches[0].pageX;
                    c.startY = j.targetTouches[0].pageY;
                    c.currentX = c.startX;
                    c.currentX = c.startX
                };
            var i = function (j) {
                    //j.preventDefault();
                    if (j.touches.length === 1) {
                        c.currentX = j.touches[0].pageX;
                        c.currentY = j.touches[0].pageY
                    }
                    c.fcount = j.touches.length
                };
            var h = function () {
                    var j = c.startX - c.currentX,
                        m = c.startY - c.currentY,
                        l = Math.round(Math.sqrt(Math.pow(j, 2) + Math.pow(m, 2))),
                        k = Math.atan2(m, j);
                    c.angle = Math.round(k * 180 / Math.PI);
                    if (c.angle < 0) {
                        c.angle = 360 - Math.abs(c.angle)
                    }
                };
            var g = function () {
                    if ((c.angle <= 45) && (c.angle >= 0)) {
                        c.direction = "left"
                    } else {
                        if ((c.angle <= 360) && (c.angle >= 315)) {
                            c.direction = "left"
                        } else {
                            if ((c.angle >= 135) && (c.angle <= 225)) {
                                c.direction = "right"
                            } else {
                                if ((c.angle > 45) && (c.angle < 135)) {
                                    c.direction = "down"
                                } else {
                                    c.direction = "up"
                                }
                            }
                        }
                    }
                };
            var e = function (j) {
                    if (c.fcount === 1 && c.currentX !== 0) {
                        var k = Math.round(Math.sqrt(Math.pow(c.currentX - c.startX, 2) + Math.pow(c.currentY - c.startY, 2)));
                        if (k >= c.minimum) {
                            h();
                            g();
                            if (c.direction === "left") {
                                c.swipeLeft()
                            }
                            if (c.direction === "right") {
                                c.swipeRight()
                            }
                        }
                    }
                };
            var f = function (j) {};
            this.addEventListener("touchstart", d, false);
            this.addEventListener("touchmove", i, false);
            this.addEventListener("touchend", e, false);
            this.addEventListener("touchcancel", f, false)
        })
    }
})(jQuery);